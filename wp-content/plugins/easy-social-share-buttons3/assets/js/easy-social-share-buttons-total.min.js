jQuery(document).ready(function(t){var e="twitter,linkedin,facebook,pinterest,google,stumbleupon,vk,reddit,buffer,love,ok,mwp,xing,pocket,mail,print,comments,yummly",s="del,digg,weibo,flattr,tumblr,whatsapp,meneame,blogger,amazon,yahoomail,gmail,aol,newsvine,hackernews,evernote,myspace,mailru,viadeo,line,flipboard,sms,viber,telegram",a=(essb_settings.essb3_plugin_url,essb_settings.essb3_facebook_total),n=essb_settings.essb3_admin_ajax,r=essb_settings.essb3_internal_counter,o=(essb_settings.essb3_counter_button_min,"undefined"!=typeof essb_settings.twitter_counter?essb_settings.twitter_counter:"");""==o&&(o="api");jQuery.fn.essb_total_counters=function(){return this.each(function(){if("undefined"!=typeof essb_settings){var i=t(this).attr("data-post")||"",c=t(this).attr("data-url")||"",u=c,l=t(this).attr("data-essb-instance")||"",b=essb_settings.ajax_url;"light"==essb_settings.ajax_type&&(b=essb_settings.blog_url);for(var f=t(this).attr("data-network-list"),h=(t(this).find(".essb-total-value"),t(this)),p=n?b+"?action=essb_counts&nonce="+essb_settings.essb3_nonce+"&":essb_settings.essb3_plugin_url+"/public/get-noapi-counts.php?",d=b+"?action=essb_counts&nonce="+essb_settings.essb3_nonce+"&",g=e.split(","),_=s.split(","),m=[],k=[],v=[],w=0;w<g.length;w++)if(f.indexOf(g[w])>-1)switch(g[w]){case"google":case"stumbleupon":case"vk":case"reddit":case"ok":case"mwp":case"xing":case"pocket":case"linkedin":n?v.push(g[w]):k.push(g[w]);break;case"mail":case"print":case"love":case"comments":v.push(g[w]);break;case"twitter":"api"==o||"newsc"==o?m.push(g[w]):"self"==o&&v.push(g[w]);break;default:m.push(g[w])}if(r)for(var w=0;w<_.length;w++)f.indexOf(_[w])>-1&&v.push(_[w]);for(var w=0;w<m.length;w++){var y=m[w];switch(y){case"facebook":var j="https://graph.facebook.com/?id="+c;t.getJSON(j).done(function(t){if(a)try{h.attr("data-facebook",t.share.share_count)}catch(e){h.attr("data-facebook","0")}else try{h.attr("data-facebook",t.share.share_count)}catch(e){h.attr("data-facebook","0")}});break;case"twitter":var N=u,u="https://cdn.api.twitter.com/1/urls/count.json?url="+u+"&callback=?";"newsc"==o&&(u="https://public.newsharecounts.com/count.json?url="+N),t.getJSON(u).done(function(t){h.attr("data-twitter",t.count)});break;case"linkedin":var O="https://www.linkedin.com/countserv/count/share?format=jsonp&url="+c+"&callback=essb";t.getJSON(O).done(function(t){h.attr("data-linkedin",t.count)});break;case"pinterest":var x="https://api.pinterest.com/v1/urls/count.json?callback=?&url="+c;t.getJSON(x).done(function(t){h.attr("data-pinterest",t.count)});break;case"buffer":var J="https://api.bufferapp.com/1/links/shares.json?url="+c+"&callback=?";t.getJSON(J).done(function(t){h.attr("data-buffer",t.shares)});break;case"yummly":var S="https://www.yummly.com/services/yum-count?callback=?&url="+c;t.getJSON(S).done(function(t){h.attr("data-yummly",t.count)})}}for(var w=0;w<k.length;w++){var y=k[w],M=p+"nw="+y+"&url="+c+"&instance="+l;t.getJSON(M).done(function(t){t.network+"|"+t.url;h.attr("data-"+t.network,t.count)})}for(var I=[],w=0;w<v.length;w++){var y=v[w];I.push(y);var M=d+"nw="+y+"&url="+c+"&instance="+l+"&post="+i;t.getJSON(M).done(function(t){var e=t[t.network]||"0";h.attr("data-"+t.network,e)})}}})},jQuery.fn.essb_update_total_counters=function(){return this.each(function(){function e(){for(var t=0,e=0;e<n.length;e++){var a=n[e],u=i.attr("data-"+a);"undefined"==typeof u&&(u=0),Number(u)<=0&&(u=0),t+=parseInt(u)}"true"==o?r.text(t):r.text(s(t)),""!=c&&parseInt(c)<=t&&i.show()}function s(t){"number"!=typeof t&&(t=Number(t));var e,s,a=0>t?"-":"",n=["k","M","G","T","P","E","Z","Y"],r=Math.pow(10,3*n.length+3);if(t=Math.abs(Math.round(t)),1e3>t)return a+t;if(t>=1e100)return a+"many";if(t>=r)return(a+t).replace(/(\.\d*)?e\+?/i,"e");do if(t=Math.floor(t),e=n.shift(),s=t%1e6,t/=1e3,!(t>=1e3))return t>=10&&1e3>t||10>t&&100>s%1e3?a+Math.floor(t)+e:(a+t).replace(/(\.\d).*/,"$1")+e;while(n.length);return a+"many"}var a=t(this).attr("data-network-list"),n=a.split(","),r=t(this).find(".essb-total-value"),o=t(this).attr("data-full-number"),i=t(this),c=t(this).attr("data-essb-hide-till")||"";setInterval(e,1200)})},t(".essb-total").essb_total_counters(),t(".essb-total").essb_update_total_counters()});