jQuery(document).ready(function(t){var e="twitter,linkedin,facebook,pinterest,google,stumbleupon,vk,reddit,buffer,love,ok,mwp,xing,pocket,mail,print,comments,yummly",a="del,digg,weibo,flattr,tumblr,whatsapp,meneame,blogger,amazon,yahoomail,gmail,aol,newsvine,hackernews,evernote,myspace,mailru,viadeo,line,flipboard,sms,viber,telegram",s=(essb_settings.essb3_plugin_url,essb_settings.essb3_facebook_total),n=essb_settings.essb3_admin_ajax,r=essb_settings.essb3_internal_counter,o=(essb_settings.essb3_counter_button_min,"undefined"!=typeof essb_settings.twitter_counter?essb_settings.twitter_counter:"");""==o&&(o="api");jQuery.fn.essb_total_counters=function(){return this.each(function(){if("undefined"!=typeof essb_settings){var i=t(this).attr("data-post")||"",c=t(this).attr("data-url")||"",u=c,l=t(this).attr("data-essb-instance")||"",b=essb_settings.ajax_url;"light"==essb_settings.ajax_type&&(b=essb_settings.blog_url);for(var f=t(this).attr("data-network-list"),d=(t(this).find(".essb-total-value"),t(this)),p=n?b+"?action=essb_counts&nonce="+essb_settings.essb3_nonce+"&":essb_settings.essb3_plugin_url+"/public/get-noapi-counts.php?",h=b+"?action=essb_counts&nonce="+essb_settings.essb3_nonce+"&",_=e.split(","),g=a.split(","),m=[],k=[],v=[],w=0;w<_.length;w++)if(f.indexOf(_[w])>-1)switch(_[w]){case"google":case"stumbleupon":case"vk":case"reddit":case"ok":case"mwp":case"xing":case"pocket":case"linkedin":n?v.push(_[w]):k.push(_[w]);break;case"mail":case"print":case"love":case"comments":v.push(_[w]);break;case"twitter":"api"==o||"newsc"==o?m.push(_[w]):"self"==o&&v.push(_[w]);break;default:m.push(_[w])}if(r)for(var w=0;w<g.length;w++)f.indexOf(g[w])>-1&&v.push(g[w]);for(var w=0;w<m.length;w++){var y=m[w];switch(y){case"facebook":var j="https://graph.facebook.com/fql?q=SELECT%20like_count,%20total_count,%20share_count,%20click_count,%20comment_count%20FROM%20link_stat%20WHERE%20url%20=%20%22"+c+"%22";t.getJSON(j).done(function(t){if(s)try{d.attr("data-facebook",t.data[0].total_count)}catch(e){d.attr("data-facebook","0")}else try{d.attr("data-facebook",t.data[0].share_count)}catch(e){d.attr("data-facebook","0")}});break;case"twitter":var O=u,u="https://cdn.api.twitter.com/1/urls/count.json?url="+u+"&callback=?";"newsc"==o&&(u="https://public.newsharecounts.com/count.json?url="+O),t.getJSON(u).done(function(t){d.attr("data-twitter",t.count)});break;case"linkedin":var N="https://www.linkedin.com/countserv/count/share?format=jsonp&url="+c+"&callback=essb";t.getJSON(N).done(function(t){d.attr("data-linkedin",t.count)});break;case"pinterest":var x="https://api.pinterest.com/v1/urls/count.json?callback=?&url="+c;t.getJSON(x).done(function(t){d.attr("data-pinterest",t.count)});break;case"buffer":var S="https://api.bufferapp.com/1/links/shares.json?url="+c+"&callback=?";t.getJSON(S).done(function(t){d.attr("data-buffer",t.shares)});break;case"yummly":var J="https://www.yummly.com/services/yum-count?callback=?&url="+c;t.getJSON(J).done(function(t){d.attr("data-yummly",t.count)})}}for(var w=0;w<k.length;w++){var y=k[w],M=p+"nw="+y+"&url="+c+"&instance="+l;t.getJSON(M).done(function(t){t.network+"|"+t.url;d.attr("data-"+t.network,t.count)})}for(var E=[],w=0;w<v.length;w++){var y=v[w];E.push(y);var M=h+"nw="+y+"&url="+c+"&instance="+l+"&post="+i;t.getJSON(M).done(function(t){var e=t[t.network]||"0";d.attr("data-"+t.network,e)})}}})},jQuery.fn.essb_update_total_counters=function(){return this.each(function(){function e(){for(var t=0,e=0;e<n.length;e++){var s=n[e],u=i.attr("data-"+s);"undefined"==typeof u&&(u=0),Number(u)<=0&&(u=0),t+=parseInt(u)}"true"==o?r.text(t):r.text(a(t)),""!=c&&parseInt(c)<=t&&i.show()}function a(t){"number"!=typeof t&&(t=Number(t));var e,a,s=0>t?"-":"",n=["k","M","G","T","P","E","Z","Y"],r=Math.pow(10,3*n.length+3);if(t=Math.abs(Math.round(t)),1e3>t)return s+t;if(t>=1e100)return s+"many";if(t>=r)return(s+t).replace(/(\.\d*)?e\+?/i,"e");do if(t=Math.floor(t),e=n.shift(),a=t%1e6,t/=1e3,!(t>=1e3))return t>=10&&1e3>t||10>t&&100>a%1e3?s+Math.floor(t)+e:(s+t).replace(/(\.\d).*/,"$1")+e;while(n.length);return s+"many"}var s=t(this).attr("data-network-list"),n=s.split(","),r=t(this).find(".essb-total-value"),o=t(this).attr("data-full-number"),i=t(this),c=t(this).attr("data-essb-hide-till")||"";setInterval(e,1200)})},t(".essb-total").essb_total_counters(),t(".essb-total").essb_update_total_counters()});