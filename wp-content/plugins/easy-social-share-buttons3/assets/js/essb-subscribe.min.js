var essb_subscribe_opened={},essb_subscribe_popup_close=function(s){jQuery(".essb-subscribe-form-"+s).fadeOut(400),jQuery(".essb-subscribe-form-overlay-"+s).fadeOut(400)},essb_toggle_subscribe=function(s){if(jQuery(".essb-subscribe-form-"+s).length){jQuery.fn.extend({center:function(){return this.each(function(){var s=(jQuery(window).height()-jQuery(this).outerHeight())/2,e=(jQuery(window).width()-jQuery(this).outerWidth())/2;jQuery(this).css({position:"fixed",margin:0,top:(s>0?s:0)+"px",left:(e>0?e:0)+"px"})})}});var e=jQuery(".essb-subscribe-form-"+s).attr("data-popup")||"";if("1"!=e)jQuery(".essb-subscribe-form-"+s).hasClass("essb-subscribe-opened")?(jQuery(".essb-subscribe-form-"+s).slideUp("fast"),jQuery(".essb-subscribe-form-"+s).removeClass("essb-subscribe-opened")):(jQuery(".essb-subscribe-form-"+s).slideDown("fast"),jQuery(".essb-subscribe-form-"+s).addClass("essb-subscribe-opened"),essb_subscribe_opened[s]||(essb_subscribe_opened[s]=s,essb_tracking_only("","subscribe",s,!0)));else{var r=jQuery(window).width(),b=(jQuery("document").height(),600);b>r&&(b=r-40),jQuery(".essb-subscribe-form-"+s).css({width:b+"px"}),jQuery(".essb-subscribe-form-"+s).center(),jQuery(".essb-subscribe-form-"+s).fadeIn(400),jQuery(".essb-subscribe-form-overlay-"+s).fadeIn(200)}}},essb_ajax_subscribe=function(s){event.preventDefault();var e=jQuery(".essb-subscribe-form-"+s+" #essb-subscribe-from-content-form-mailchimp");if(e.length){var r=jQuery(e).find(".essb-subscribe-form-content-email-field").val(),b=jQuery(e).find(".essb-subscribe-form-content-name-field").length?jQuery(e).find(".essb-subscribe-form-content-name-field").val():"";jQuery(e).find(".submit").prop("disabled",!0),jQuery(e).hide(),jQuery(".essb-subscribe-form-"+s).find(".essb-subscribe-loader").show(),console.log(e.attr("action")),console.log(r+","+b),jQuery.post(e.attr("action"),{mailchimp_email:r,mailchimp_name:b},function(r){console.log("result is "),console.log(r),r&&(console.log(r),"1"==r.code?jQuery(".essb-subscribe-form-"+s).find(".essb-subscribe-form-content-success").show():(jQuery(".essb-subscribe-form-"+s).find(".essb-subscribe-form-content-error").append(": <span>"+r.message+"</span>"),jQuery(".essb-subscribe-form-"+s).find(".essb-subscribe-form-content-error").show()),jQuery(".essb-subscribe-form-"+s).find(".essb-subscribe-loader").hide(),jQuery(e).hide())},"json")}};