{"version":3,"sources":["logging/assets/js/admin-statistics.js"],"names":["$","plotGraph","graphData","$lineToggles","filter","each","push","datasets","this","value","plot","$graph","xaxis","mode","timeFormat","minTickSize","settings","ticksize","yaxis","min","tickDecimals","series","lines","show","points","grid","hoverable","showTooltip","x","y","contents","css","position","display","top","left","border","padding","background-color","opacity","appendTo","fadeIn","toggleCustomRangeOptions","val","$customRangeOptions","toggle","plotHover","event","pos","item","text","toFixed","previousPoint","dataIndex","remove","datapoint","pageX","pageY","label","$range","document","getElementById","mc4wp_statistics_data","mc4wp_statistics_settings","change","bind","window","jQuery"],"mappings":"CAAA,SAAUA,GACT,YAgBA,SAASC,KACR,GAAIC,KAEJC,GAAaC,OAAO,YAAYC,KAAK,WACpCH,EAAUI,KAAKC,EAASC,KAAKC,UAG9BT,EAAEU,KACDC,EACAT,GAECU,OACCC,KAAM,OAGNC,WAAY,QACZC,YAAaC,EAASC,UAEvBC,OACCC,IAAK,EAAGC,aAAc,GAEvBC,QACCC,OAASC,MAAM,GACfC,QAAUD,MAAM,IAEjBE,MACCC,WAAW,KAOf,QAASC,GAAYC,EAAGC,EAAGC,GAC1B9B,EAAE,wBAA0B8B,EAAW,UAAUC,KAChDC,SAAU,WACVC,QAAS,OACTC,IAAKL,EAAI,EACTM,KAAMP,EAAI,EACVQ,OAAQ,iBACRC,QAAS,MACTC,mBAAoB,OACpBC,QAAS,KACPC,SAAS,QAAQC,OAAO,KAG5B,QAASC,KACR,GAAInB,GAAyB,WAAlBvB,EAAEQ,MAAMmC,KACnBC,GAAoBC,OAAQtB,GAG7B,QAASuB,GAAUC,EAAOC,EAAKC,GAI9B,GAHAjD,EAAE,MAAMkD,KAAKF,EAAIpB,EAAEuB,QAAQ,IAC3BnD,EAAE,MAAMkD,KAAKF,EAAInB,EAAEsB,QAAQ,IAEvBF,GACH,GAAIG,GAAiBH,EAAKI,UAAW,CACpCD,EAAgBH,EAAKI,UACrBrD,EAAE,YAAYsD,QAEd,IACCzB,IADOoB,EAAKM,UAAU,GAClBN,EAAKM,UAAU,GAEpB5B,GAAasB,EAAKO,MAAOP,EAAKQ,MAAOR,EAAK5B,OAAOqC,MAAQ,KAAO7B,QAGjE7B,GAAE,YAAYsD,SACdF,EAAgB,KA9ElB,GAGIA,GAHAjD,EAAeH,EAAE,gBACjB2D,EAAS3D,EAAE4D,SAASC,eAAe,sBACnCjB,EAAsB5C,EAAE4D,SAASC,eAAe,qCAEhDlD,EAASX,EAAE4D,SAASC,eAAe,gBACnCtD,EAAWuD,0BACX9C,EAAW+C,6BA+Ef5D,GAAa6D,OAAO/D,GACpB0D,EAAOK,OAAOtB,GACd/B,EAAOsD,KAAK,YAAanB,GAEzB7C,KAGEiE,OAAOC","file":"logging/assets/js/admin-statistics.min.js","sourcesContent":["(function($) {\n\t'use strict';\n\n\t/**\n\t * Variables\n\t */\n\tvar $lineToggles = $(\".line-toggle\");\n\tvar $range = $(document.getElementById('mc4wp-graph-range'));\n\tvar $customRangeOptions = $(document.getElementById('mc4wp-graph-custom-range-options'));\n\tvar previousPoint;\n\tvar $graph = $(document.getElementById('mc4wp-graph'));\n\tvar datasets = mc4wp_statistics_data || {};\n\tvar settings = mc4wp_statistics_settings || {};\n\n\t/**\n\t * Functions\n\t */\n\tfunction plotGraph() {\n\t\tvar graphData = [];\n\n\t\t$lineToggles.filter(\":checked\").each(function() {\n\t\t\tgraphData.push(datasets[this.value]);\n\t\t});\n\n\t\t$.plot(\n\t\t\t$graph,\n\t\t\tgraphData,\n\t\t\t{\n\t\t\t\txaxis: {\n\t\t\t\t\tmode: \"time\",\n\t\t\t\t\t//min: startDate.getTime(),\n\t\t\t\t\t//max: endDate.getTime(),\n\t\t\t\t\ttimeFormat: \"%d/%b\",\n\t\t\t\t\tminTickSize: settings.ticksize\n\t\t\t\t},\n\t\t\t\tyaxis: {\n\t\t\t\t\tmin: 0, tickDecimals: 0\n\t\t\t\t},\n\t\t\t\tseries: {\n\t\t\t\t\tlines: { show: true },\n\t\t\t\t\tpoints: { show: true }\n\t\t\t\t},\n\t\t\t\tgrid: {\n\t\t\t\t\thoverable: true\n\t\t\t\t}\n\n\t\t\t}\n\t\t);\n\t}\n\n\tfunction showTooltip(x, y, contents) {\n\t\t$('<div class=\"tooltip\">' + contents + '</div>').css( {\n\t\t\tposition: 'absolute',\n\t\t\tdisplay: 'none',\n\t\t\ttop: y + 5,\n\t\t\tleft: x + 5,\n\t\t\tborder: '1px solid #fdd',\n\t\t\tpadding: '2px',\n\t\t\t'background-color': '#fee',\n\t\t\topacity: 0.80\n\t\t}).appendTo(\"body\").fadeIn(200);\n\t}\n\n\tfunction toggleCustomRangeOptions() {\n\t\tvar show = $(this).val() === 'custom';\n\t\t$customRangeOptions.toggle( show );\n\t}\n\n\tfunction plotHover(event, pos, item) {\n\t\t$(\"#x\").text(pos.x.toFixed(2));\n\t\t$(\"#y\").text(pos.y.toFixed(2));\n\n\t\tif (item) {\n\t\t\tif (previousPoint != item.dataIndex) {\n\t\t\t\tpreviousPoint = item.dataIndex;\n\t\t\t\t$(\".tooltip\").remove();\n\n\t\t\t\tvar x = item.datapoint[0],\n\t\t\t\t\ty = item.datapoint[1];\n\n\t\t\t\tshowTooltip( item.pageX, item.pageY, item.series.label + ': ' + y );\n\t\t\t}\n\t\t} else {\n\t\t\t$(\".tooltip\").remove();\n\t\t\tpreviousPoint = null;\n\t\t}\n\t}\n\n\t/**\n\t * Bind event handlers$graph\n\t */\n\t$lineToggles.change(plotGraph);\n\t$range.change(toggleCustomRangeOptions);\n\t$graph.bind(\"plothover\", plotHover);\n\n\tplotGraph();\n\n\n})(window.jQuery);"],"sourceRoot":"/source/"}