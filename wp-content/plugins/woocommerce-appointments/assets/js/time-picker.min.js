jQuery(document).ready(function(a){var b,c={init:function(){a(".slot-picker").on("click","a",this.time_picker_init),a("#wc_appointments_field_staff").on("change",this.show_available_time_slots),a(".wc-appointments-appointment-form fieldset").on("date-selected",this.show_available_time_slots)},time_picker_init:function(){var b=a(this).data("value"),c=a(this).parents(".form-field").find("input");return c.val(b).change(),a(this).parents(".form-field").find("li").removeClass("selected"),a(this).parents("li").addClass("selected"),!1},show_available_time_slots:function(){var c=a(this).closest("form"),d=c.find(".slot-picker"),e=c.find("fieldset"),f=parseInt(e.find("input.appointment_date_year").val(),10),g=parseInt(e.find("input.appointment_date_month").val(),10),h=parseInt(e.find("input.appointment_date_day").val(),10);f&&g&&h&&(d.closest("div").find("input").val("").change(),d.closest("div").block({message:null,overlayCSS:{background:"#fff",backgroundSize:"16px 16px",opacity:.6}}).show(),b&&b.abort(),b=a.ajax({type:"POST",url:wc_appointment_form_params.ajax_url,data:{action:"wc_appointments_get_slots",form:c.serialize()},success:function(a){d.html(a),d.closest("div").unblock()},dataType:"html"}))},resize_slots:function(){var b=0,c=0;a(".slot-picker a").each(function(){var d=a(this).width(),e=a(this).height();d>b&&(b=d),e>c&&(c=e)}),a(".slot-picker a").width(b),a(".slot-picker a").height(c)}};c.init()});