jQuery(document).ready(function(a){var b=[];a(".wc-appointments-appointment-form").parent().on("change","input, select",function(){var c=a(this).attr("name"),d=a(this).closest("fieldset"),e=d.find(".picker:eq(0)");if(!e.data("is_range_picker_enabled")||"wc_appointments_field_duration"===c){var f=a(".wc-appointments-appointment-form").index(this);b[f]&&b[f].abort();var g=a(this).closest("form"),h=g.find("input.required_for_calculation"),i=!0;if(a.each(h,function(b,c){var d=a(c).val();d||(i=!1)}),!i)return g.find(".wc-appointments-appointment-cost").hide(),void g.find(".wc-appointments-appointment-hook").hide();g.find(".wc-appointments-appointment-cost").block({message:null,overlayCSS:{background:"#fff",backgroundSize:"16px 16px",opacity:.6}}).show(),b[f]=a.ajax({type:"POST",url:wc_appointment_form_params.ajax_url,data:{action:"wc_appointments_calculate_costs",form:g.serialize()},success:function(b){"{"!==b.charAt(0)&&(b="{"+b.split(/\{(.+)?/)[1]);var c=a.parseJSON(b);"ERROR"===c.result?(g.find(".wc-appointments-appointment-cost").html(c.html),g.find(".wc-appointments-appointment-cost").unblock(),g.find(".single_add_to_cart_button").addClass("disabled")):"SUCCESS"===c.result?(g.find(".wc-appointments-appointment-cost").html(c.html),g.find(".wc-appointments-appointment-cost").unblock(),g.find(".wc-appointments-appointment-hook").show(),g.find(".single_add_to_cart_button").removeClass("disabled")):(g.find(".wc-appointments-appointment-cost").hide(),g.find(".wc-appointments-appointment-hook").hide(),g.find(".single_add_to_cart_button").addClass("disabled"))},error:function(){g.find(".wc-appointments-appointment-cost").hide(),g.find(".single_add_to_cart_button").addClass("disabled")},dataType:"html"})}}).each(function(){var b=a(this).closest("form").find(".single_add_to_cart_button");b.addClass("disabled")}),a(".single_add_to_cart_button").on("click",function(b){return a(this).hasClass("disabled")?(window.alert(wc_appointment_form_params.i18n_choose_options),b.preventDefault(),!1):void 0}),a(".wc-appointments-appointment-form, .wc-appointments-appointment-form-button").show().removeAttr("disabled")});